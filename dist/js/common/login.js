"use strict";!function(o){var n={a:/^[A-Za-z0-9]{6,16}$/,p:/^[A-Za-z0-9]{6,16}$/};function s(){$("#login_field").val(""),$("#password").val(""),$("#signup_field").val(""),$("#signup_a").val(""),$("#signup_p").val(""),$("#signup_pr").val("")}function i(){$("#js-flash-container").hide(),$("#js-flash-container_2").hide()}function e(){var o=$("#login_field").val(),s=$("#password").val();if(!o||!s)return $("#js-flash-container").show(),void $TipsDialog({text:"Account and password must fill in."});if(!n.a.test(o)||!n.p.test(s))return $("#js-flash-container").show(),void $TipsDialog({timeout:2e3,text:"Account or password format error.6-16 words,</br> accept uppercase/lowercase letters and numbers"});var i={userAccount:o,pwd:s};$.ajax({url:"/doLogin",method:"POST",data:i,success:function(o){if(console.log("success",o),1==o.code)$TipsDialog({text:"Login Success!"}),$cookie.set("UIN",JSON.stringify(o.data)),location.href="/html/list.html";else{if(2==o.code)return void $TipsDialog({text:"Account not exist."});if(3==o.code)return void $TipsDialog({text:"Account or password error."});$TipsDialog({text:"Interval Server Error."})}},error:function(o){console.log(o),$TipsDialog({text:"Interval Server Error."})}})}$(".submit-btn").click(function(){e()}),$(document).keyup(function(o){if(!$(".signUpBox").hasClass("active"))switch(o.keyCode){case 13:return void e()}}),$(".close-msg").click(function(){i()}),$(".signup-msg").click(function(){i()}),$(".close-signup").click(function(){s(),i(),$(".signUpBox").removeClass("active"),$(".signUpBox").css("opacity",0),setTimeout(function(){$(".signUpBox").hide(),$(".signUpBox").css({opacity:1})},300)}),$(".sign-up-pop").click(function(){s(),$(".signUpBox").show(),$(".signUpBox").addClass("active"),$(".signUpBox").css({animation:"action_skew 0.3s linear"})}),$(".signup-btn").click(function(){var o=$("#signup_field").val(),s=$("#signup_a").val(),i=$("#signup_p").val(),e=$("#signup_pr").val();if(!(s&&i&&o&&e))return $("#js-flash-container_2").show(),void $TipsDialog({text:"Account/password/confirm password</br>All must fill in."});if(!n.a.test(s)||!n.p.test(i)||!n.p.test(e))return $("#js-flash-container_2").show(),void $TipsDialog({timeout:2e3,text:"Account or password format error.6-16 words,</br> accept uppercase/lowercase letters and numbers"});if(e!=i)return $("#js-flash-container_2").show(),void $TipsDialog({text:"The password entered twice is inconsistent"});var t={username:o,userAccount:s,pwd:i};$.ajax({url:"/doRegist",method:"POST",data:t,success:function(o){if($(".signUpBox").hide(),$(".signUpBox").removeClass("active"),console.log(o),1==o.code)$TipsDialog({text:"Success regist ! Use your account to login now !"});else{if(2==o.code)return void $TipsDialog({text:"Account already exist."});if(3==o.code)return void $TipsDialog({text:"Account or password error."});$TipsDialog({text:"Interval Server Error."})}},error:function(o){console.log(o),$TipsDialog({text:"Interval Server Error."})}})})}(window);