"use strict";var $cookie={get:function(o){var e=document.cookie.match(new RegExp("(^| )"+o+"=([^;]*)(;|$)"));return e?decodeURIComponent(e[2]):""},set:function(o,e,t,n,i){var s=new Date;s.setTime(s.getTime()+(t?36e5*t:2592e6)),document.cookie=o+"="+e+"; expires="+s.toGMTString()+"; path="+(i||"/")+"; "+(n?"domain="+n+";":"")},del:function(o,e,t){document.cookie=o+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path="+(t||"/")+"; "+(e?"domain="+e+";":"")}},$commonRequest={getAuth:function(e){$.ajax({url:"/getAuth",method:"GET",success:function(o){1==o.code||e()},error:function(o){console.log(o)}})},uploadImg:function(o,e){1!=o.imgUse&&(o.imgUse=0),$.ajax({url:"/uploadPic?userId="+userInfo.userId,method:"post",data:{titleImgSrc:o.titleImgSrc,type:o.type,imgUse:o.imgUse},success:function(o){1==o.code?e(o.data):(console.log("error"),$config.loading("hide"))},error:function(){console.log("error"),$config.loading("hide")}})},updateUserInfo:function(o,e){$.ajax({url:"/changeUserInfo",method:"post",data:o,success:function(o){1==o.code?e(o.data):console.log("error")},error:function(){console.log("error")}})}},$config={loginPage:"/html/login.html",GetQueryString:function(o){var e=new RegExp("(^|&)"+o+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(e);return null!=t?unescape(t[2]):null},getRoomId:function(){var o=location.href.split("/");return o[o.length-1]},getUserInfo:function(){return $cookie.get("UIN")?JSON.parse($cookie.get("UIN")):-1!=location.href.indexOf($config.loginPage)?void 0:void(location.href=$config.loginPage)},getTime:function(o){var e=o?new Date(o):new Date,t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),s=e.getHours(),a=e.getMinutes(),c=e.getSeconds(),r={y:t,m:10<=n?n:"0"+n,d:10<=i?i:"0"+i,h:10<=s?s:"0"+s,mi:10<=a?a:"0"+a,s:10<=c?c:"0"+c};return{timeObj:r,timeText:t+"-"+r.m+"-"+r.d+" "+r.h+":"+r.mi+":"+r.s}},loading:function(o){$(".loadingShadow").length<=0&&$("body").append(' <div class="loadingShadow" style="display:none;"><div class="shadow"></div><div class="loadingBox"><p class="glyphicon glyphicon-refresh"></p><p class="loadingText">Loading...</p></div></div>'),o?"show"==o?$(".loadingShadow").show():$(".loadingShadow").hide():$(".loadingShadow").show()}};!function(t,o,e){var n=t(document),i=document.createElement("style"),s=function o(e){this.settings=t.extend(o.defaults,e||{}),this._init()};s.prototype={_init:function(){this._create()},_create:function(){this.tipsDialogDom='<div class="TipsMongo"><div class="tipsContent">'+this.settings.text+"</div></div>",this._show()},_show:function(){t("body").append(t(this.tipsDialogDom)),n.find(".TipsMongo").css({position:"fixed",top:"0",left:"0",bottom:"0",right:"0","z-index":"9999"}),n.find(".TipsMongo .tipsContent").css({color:"white","font-size":"15px",padding:"0.5rem 1rem",position:"absolute",top:"50%",left:"50%","text-align":"center","background-color":"rgba(0, 0, 0, ".concat(this.settings.opacity,")"),"border-radius":"10px",transform:"translateX(-50%) translateY(-50%)"}),i.type="text/css",i.innerHTML="",document.getElementsByTagName("head")[0].appendChild(i);var o=i.innerHTML+"@-webkit-keyframes aniShow { from {opacity: 0;} to {opacity: 1;}";document.styleSheets[document.styleSheets.length-1].insertRule(o,document.styleSheets[document.styleSheets.length-1].rules.length),n.find(".TipsMongo .tipsContent").css("animationName","aniShow"),n.find(".TipsMongo .tipsContent").css("animationDuration","1s"),n.find(".TipsMongo .tipsContent").css("animationFillMode","forwards");var e=this;setTimeout(function(){e._close()},this.settings.timeout)},_close:function(){n.find(".TipsMongo").remove()}},s.defaults={timeout:1500,text:"我是tips",opacity:.8};o.$TipsDialog=t.tipsDialog=t.tipsDialog=function(o){return new s(o)}}(window.jQuery,window);var userInfo=$config.getUserInfo(),nowLocale=$url("protocol",location.href)+"://"+$url("hostname",location.href)+":"+$url("port",location.href);